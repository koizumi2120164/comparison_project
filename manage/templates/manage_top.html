{% extends 'manage.html' %}
{% load static %}

{% block title %}チャート{% endblock %}


{% block contents %}
    <div class="container-fluid">
        <!-- Content Row -->
        <div class="row">
            <!-- Area Chart -->
            <div class="col-xl-10 col-lg-12">
                <div class="card shadow mb-4">     
                    <div class="card-body">
                        <div class="chart-area">
                            <canvas id="page_view"></canvas>
                        </div>    
                    </div>
                </div>
            </div>


            <!-- Donut Chart -->
            <div class="col-xl-10 col-lg-12">
                <div class="card shadow mb-4">
                    <!-- Card Body -->
                    <div class="card-body">
                        <div class="chart-pie pt-4">
                            <div class="inlineblock"><canvas id="myPieChart"></canvas></div>
                            <div class="inlineblock"><canvas id="myPieChart2"></canvas></div>
                            <div class="inlineblock"><canvas id="myPieChart3"></canvas></div>
                            <div class="inlineblock"><canvas id="myPieChart4"></canvas></div>
                        
                        </div>   
                    </div>
                </div>
            </div>
        </div> 
        <style>
            .inlineblock{
                display: inline-block;
                width: 240px;
	            height: 240px;
                text-align: center;
            }
        </style>
    
{% endblock %}

{% block script %}
    <!-- Bootstrap core JavaScript-->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Core plugin JavaScript-->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Custom scripts for all pages-->
    <script src="../../static/js/sb-admin-2.min.js"></script>

    <!-- Page level plugins -->
    <script src="../../static/vendor/chart.js/Chart.min.js"></script>

    <!-- 年齢 -->
    <script>
        // Set new default font family and font color to mimic Bootstrap's default styling
        Chart.defaults.global.defaultFontFamily = 'Nunito', '-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif';
        Chart.defaults.global.defaultFontColor = '#858796';

        // Pie Chart Example
        var ctx = document.getElementById("myPieChart");
        var myPieChart = new Chart(ctx, {
        type: 'doughnut',
        data: {
            labels: ["トップページ", "ランキング", "商品一覧", "口コミ掲示板"],
            datasets: [{
            data: ['{{top}}', '{{rank}}', '{{product}}', '{{word}}'],
            backgroundColor: ['#A9A9A9','#FF8C00','#1E90FF','#FFD700'],
            
            hoverBorderColor: "rgba(234, 236, 244, 1)",
            }],
        },
        options: {
            maintainAspectRatio: false,
            tooltips: {
            backgroundColor: "rgb(255,255,255)",
            bodyFontColor: "#858796",
            borderColor: '#dddfeb',
            borderWidth: 1,
            xPadding: 15,
            yPadding: 15,
            displayColors: false,
            caretPadding: 10,
            },
            title: {
            display: true,
            text: 'ページの閲覧数',
            fontSize: 30,
            fontColor: "#2F4F4F"
            },
            legend: {
            display: true,
            position:'bottom'
            },
            
            cutoutPercentage: 80,
        },
        });
        

        // Pie Chart Example
        var ctx = document.getElementById("myPieChart2");
        var myPieChart2 = new Chart(ctx, {
        type: 'doughnut',
        data: {
            labels: ["未設定", "18歳以下", "18歳から60歳まで", "60歳以上"],
            datasets: [{
            data: ['{{day}}', '{{young}}', '{{adulthood}}', '{{senior}}'],
            backgroundColor: ['#A9A9A9','#FF8C00','#1E90FF','#FFD700'],
            
            hoverBorderColor: "rgba(234, 236, 244)",
            }],
        },
        options: {
            maintainAspectRatio: false,
            tooltips: {
            backgroundColor: "rgb(255,255,255,255)",
            bodyFontColor: "#858796",
            borderColor: '#dddfeb',
            borderWidth: 1,
            xPadding: 15,
            yPadding: 15,
            displayColors: false,
            caretPadding: 10,
            },
            title: {
            display: true,
            text: '年齢割合',
            fontSize: 30,
            fontColor: "#2F4F4F"
            },
            legend: {
            display: true,
            position:'bottom'
            },
            
            cutoutPercentage: 80,
        },
        });

        // Pie Chart Example
        var ctx = document.getElementById("myPieChart3");
        var myPieChart3 = new Chart(ctx, {
        type: 'doughnut',
        data: {
            labels: ["未設定","男性", "女性"],
            datasets: [{
            data: ['{{gender}}','{{man}}','{{woman}}'],
            backgroundColor: ['#A9A9A9','#FF8C00','#1E90FF',],
            
            hoverBorderColor: "rgba(234, 236,)",
            }],
        },
        options: {
            maintainAspectRatio: false,
            tooltips: {
            backgroundColor: "rgb(255,255,255)",
            bodyFontColor: "#858796",
            borderColor: '#dddfeb',
            borderWidth: 1,
            xPadding: 15,
            yPadding: 15,
            displayColors: false,
            caretPadding: 10,
            },
            title: {
            display: true,
            text: '性別割合',
            fontSize: 30,
            fontColor: "#2F4F4F"
            },
            legend: {
            display: true,
            position:'bottom'
            },
            
            cutoutPercentage: 80,
        },
        });

        // Pie Chart Example
        var ctx = document.getElementById("myPieChart4");
        var myPieChart4 = new Chart(ctx, {
        type: 'doughnut',
        data: {
            labels: ["未設定","関東", "関西","その他"],
            datasets: [{
            data: ['{{address}}','{{kanto}}', '{{kansai}}', '{{other}}'],
            backgroundColor: ['#A9A9A9','#FF8C00','#1E90FF','#FFD700'],
            
            hoverBorderColor: "rgba(234, 236, 244, 1)",
            }],
        },
        options: {
            maintainAspectRatio: false,
            tooltips: {
            backgroundColor: "rgb(255,255,255)",
            bodyFontColor: "#858796",
            borderColor: '#dddfeb',
            borderWidth: 1,
            xPadding: 15,
            yPadding: 15,
            displayColors: false,
            caretPadding: 10,
            },
            title: {
            display: true,
            text: '地域割合',
            fontSize: 30,
            fontColor: "#2F4F4F"
            },
            legend: {
            display: true,
            position:'bottom'
            },
            
            cutoutPercentage: 80,
        },
        });
    </script>
    
    <script>
        Chart.defaults.global.defaultFontFamily = 'Nunito', '-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif';
        Chart.defaults.global.defaultFontColor = '#858796';

        var ctx = document.getElementById('page_view');
        var page_view = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: ["トップページ", "ランキング", "商品一覧", "口コミ掲示板"],
            datasets: [{
                label: "閲覧数",
                data: ['{{top}}', '{{rank}}', '{{product}}', '{{word}}'],
                backgroundColor: ['#1E90FF','#FF8C00','#A9A9A9','#FFD700'],
            }]
        },
        
        options: {
            scales: {
            yAxes: [
            {ticks: {       
            min: 0,
            max: 1000,
            stepSize: 200
            }}
            ]},
            maintainAspectRatio: false,
            tooltips: {
            backgroundColor: "rgb(255,255,255)",
            bodyFontColor: "#858796",
            borderColor: '#dddfeb',
            borderWidth: 1,
            xPadding: 15,
            yPadding: 15,
            displayColors: false,
            caretPadding: 10,
            },
            title: {
            display: true,
            text: '人気のページ(週)',
            fontSize: 30,
            fontColor: "#2F4F4F"
            },
            legend: {
            display: true,
            position:'bottom'
            },
            cutoutPercentage: 80,
        }
        })
    </script>
{% endblock %}